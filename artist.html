<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>NEXT'S YOU | Artist Studio</title>
    <style>
        :root {
            --bubble-purple: #A29BFE;
            --bubble-purple-light: #C2BEFF;
            --text-gray: #666;
            --border-color: #F2F2F2;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: -apple-system, "PingFang TC", sans-serif; }
        body { margin: 0; background: #fff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* --- é ‚éƒ¨ Headerï¼šç™¼å…‰ Logo (å°é½Šæˆªåœ– 1, 2) --- */
        .header {
            padding: 50px 20px 15px; background: #fff; display: flex; align-items: center; justify-content: space-between;
            border-bottom: 1px solid var(--border-color); flex-shrink: 0;
        }
        .header-logo {
            font-size: 20px; font-weight: 900; font-style: italic; color: #fff;
            text-shadow: 0 0 8px var(--bubble-purple), 0 0 15px rgba(162, 155, 254, 0.6);
        }
        .back-btn { font-size: 20px; color: #333; cursor: pointer; visibility: hidden; }

        /* --- è¦–åœ–ç®¡ç† --- */
        .view-container { flex: 1; position: relative; overflow: hidden; }
        .view { display: none; height: 100%; width: 100%; position: absolute; flex-direction: column; }
        .view.active { display: flex; }

        /* --- å·¥ä½œå®¤åˆ†é  (å°é½Šæˆªåœ– 5) --- */
        .studio-card { margin: 20px; padding: 20px; background: #F9F9F9; border-radius: 20px; border: 1px solid #EEE; }
        .studio-input { width: 100%; height: 120px; border: none; background: transparent; font-size: 16px; outline: none; }

        /* --- ğŸ¬ è¨Šæ¯æ»¾å‹•å€ (éšæ¢¯å¼æ»¾å‹•ï¼šåœç•™ 3 ç§’) --- */
        .rolling-bar {
            height: 50px; background: #FAF9FF; overflow: hidden; position: relative;
            border-bottom: 1px solid var(--border-color);
        }
        .rolling-track { position: absolute; width: 100%; animation: steppedScroll 16s infinite; }
        .rolling-item { height: 50px; display: flex; align-items: center; padding: 0 20px; font-size: 13px; color: #555; }
        @keyframes steppedScroll {
            0%, 20% { transform: translateY(0); }
            25%, 45% { transform: translateY(-50px); }
            50%, 70% { transform: translateY(-100px); }
            75%, 95% { transform: translateY(-150px); }
            100% { transform: translateY(-200px); }
        }

        /* --- èŠå¤©å€åŸŸ --- */
        .chat-wall { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; }
        .bubble-mine {
            align-self: flex-end; background: var(--bubble-purple); color: #fff;
            padding: 10px 16px; border-radius: 18px 18px 2px 18px;
            margin-bottom: 10px; max-width: 75%; font-size: 15px;
        }

        /* --- è¼¸å…¥æ¬„ --- */
        .input-bar {
            padding: 10px 15px 35px; border-top: 1px solid var(--border-color);
            display: flex; align-items: center; gap: 12px; background: #fff;
        }
        .input-trigger { flex: 1; background: #F1F3F5; padding: 12px 20px; border-radius: 25px; color: #999; font-size: 15px; }
        .send-icon { width: 42px; height: 42px; background: var(--bubble-purple); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 20px; }

        /* --- ğŸ¬ 0:15 å…¨è¢å¹•ç·¨è¼¯å±¤ (ç„¡æŒ‰éˆ•ç‰ˆ) --- */
        #editor-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 1000; display: none; flex-direction: column;
        }
        .editor-header { padding: 60px 25px 20px; display: flex; gap: 15px; align-items: center; }
        .artist-avatar { width: 50px; height: 50px; border-radius: 50%; background: #EEE; }
        .artist-tag { background: var(--bubble-purple); color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; }
        .editor-textarea { width: 100%; flex: 1; border: none; padding: 25px; font-size: 20px; outline: none; resize: none; }
        
        .floating-send-btn { position: fixed; bottom: 40px; right: 25px; width: 60px; height: 60px; background: var(--bubble-purple); border-radius: 50%; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 4px 15px rgba(162,155,254,0.3); }
        .cancel-text { position: fixed; bottom: 58px; left: 30px; color: #999; font-size: 16px; }

        /* --- ğŸ¬ æ ¸å¿ƒï¼šé™„åœ– 2 å½ˆè·³ç¢ºèªçª— (æ‰‹ç¹ªè‰åœ–å¾©åˆ») --- */
        #confirm-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 2000; display: none; align-items: center; justify-content: center;
        }
        .modal-sketch-card { background: #fff; width: 85%; border-radius: 25px; overflow: hidden; }
        .modal-sketch-title { padding: 25px 20px 15px; font-weight: bold; font-size: 18px; text-align: center; }
        .modal-sketch-preview { padding: 0 25px 30px; color: #444; font-size: 16px; line-height: 1.5; min-height: 80px; text-align: center; }
        .modal-sketch-footer { display: flex; border-top: 1px solid #EEE; }
        .modal-btn { flex: 1; padding: 20px; border: none; background: #fff; font-size: 16px; font-weight: 600; cursor: pointer; }
        .modal-btn.confirm { color: var(--bubble-purple); border-left: 1px solid #EEE; }

        /* --- åº•éƒ¨å°èˆª (å°é½Šæˆªåœ– 6) --- */
        .nav-bar { height: 85px; border-top: 1px solid var(--border-color); display: flex; padding-bottom: 25px; background: #fff; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #CCC; font-size: 10px; font-weight: bold; }
        .nav-item.active { color: var(--bubble-purple); }
        .nav-icon { font-size: 22px; margin-bottom: 4px; }
    </style>
</head>
<body>

    <header class="header">
        <div class="back-btn" id="backBtn" onclick="backToList()">â®</div>
        <div class="header-logo">NEXTâ€™S YOU</div>
        <div style="font-size: 20px; color: #333;">âš™ï¸</div>
    </header>

    <div class="view-container">
        <section id="view-studio" class="view active">
            <h2 style="padding: 20px 20px 0; font-weight: 900;">å·¥ä½œå®¤</h2>
            <div class="studio-card">
                <textarea class="studio-input" placeholder="å¯«é»ä»€éº¼çµ¦ç²‰çµ²..."></textarea>
                <button style="width:100%; padding:15px; background:var(--bubble-purple); color:#fff; border:none; border-radius:15px; font-weight:bold;">ç™¼å¸ƒ</button>
            </div>
        </section>

        <section id="view-msg-list" class="view">
            <h2 style="padding: 20px 20px 0; font-weight: 900;">è¨Šæ¯</h2>
            <div onclick="goToChat()" style="display:flex; align-items:center; gap:15px; padding:20px; border-bottom:1px solid #F9F9F9;">
                <div style="width:55px; height:55px; background:#EEE; border-radius:18px;"></div>
                <div><div style="font-weight:bold;">å®˜æ–¹æ˜ŸçƒèŠå¤©å®¤</div><div style="font-size:12px; color:#999;">ä¾†è‡ª 542,103 åç²‰çµ²çš„å³æ™‚è¨Šæ¯</div></div>
            </div>
        </section>

        <section id="view-data" class="view">
            <h2 style="padding: 20px 20px 0; font-weight: 900;">æ•¸æ“šåˆ†æ</h2>
            <div style="padding:20px; color:#999;">æ•¸æ“šè¼‰å…¥ä¸­...</div>
        </section>

        <section id="view-bubble-chat" class="view">
            <div class="rolling-bar"><div class="rolling-track" id="rollingTrack"></div></div>
            <div class="chat-wall" id="chatWall"></div>
            <div class="input-bar">
                <div style="font-size:24px; color:#CCC;">ï¼‹</div>
                <div class="input-trigger" onclick="showEditor()">è¼¸å…¥è¨Šæ¯...</div>
                <div class="send-icon">â†‘</div>
            </div>
        </section>
    </div>

    <div id="editor-layer">
        <div class="editor-header">
            <div class="artist-avatar"></div>
            <div><span class="artist-tag">ARTIST</span><br><span style="font-weight:bold;">NEXT'S YOU</span></div>
        </div>
        <textarea id="main-editor-input" class="editor-textarea" placeholder="åœ¨æ­¤è¼¸å…¥è¨Šæ¯..."></textarea>
        <div class="cancel-text" onclick="hideEditor()">å–æ¶ˆ</div>
        <div class="floating-send-btn" onclick="openSketchConfirm()">â†‘</div>
    </div>

    <div id="confirm-modal">
        <div class="modal-sketch-card">
            <div class="modal-sketch-title">ç¢ºèªç™¼é€ Bubble</div>
            <div id="modal-preview-text" class="modal-sketch-preview"></div>
            <div class="modal-sketch-footer">
                <button class="modal-btn" onclick="closeSketchConfirm()">å–æ¶ˆ</button>
                <button class="modal-btn confirm" onclick="finalizeSend()">ç¢ºèª</button>
            </div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="switchNav('studio', this)"><span class="nav-icon">ğŸ¨</span><span>å·¥ä½œå®¤</span></div>
        <div class="nav-item" onclick="switchNav('msg-list', this)"><span class="nav-icon">ğŸ’¬</span><span>è¨Šæ¯</span></div>
        <div class="nav-item" onclick="switchNav('data', this)"><span class="nav-icon">ğŸ“Š</span><span>æ•¸æ“š</span></div>
    </nav>

<script>
    const track = document.getElementById('rollingTrack');
    const fanMsgs = ["æ­å·´ï¼æ‰“å­—é€Ÿåº¦çœŸçš„å¾ˆå¿«è€¶ â¤ï¸", "æœŸå¾…é€±æœ«çš„æ¼”å”±æœƒï¼ğŸ¤", "ä»Šå¤©è¦å¤šå¤šä¼‘æ¯å–”ï½ğŸ’™", "é€™æ˜¯åœ¨éŒ„å½±å—ï¼ŸğŸ“½ï¸"];
    track.innerHTML = fanMsgs.map(m => `<div class="rolling-item">${m}</div>`).join('') + `<div class="rolling-item">${fanMsgs[0]}</div>`;

    function switchNav(viewId, el) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById('view-' + viewId).classList.add('active');
        el.classList.add('active');
        document.getElementById('backBtn').style.visibility = 'hidden';
    }

    function goToChat() {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.getElementById('view-bubble-chat').classList.add('active');
        document.getElementById('backBtn').style.visibility = 'visible';
        render();
    }

    function backToList() { switchNav('msg-list', document.querySelectorAll('.nav-item')[1]); }

    function showEditor() { document.getElementById('editor-layer').style.display = 'flex'; document.getElementById('main-editor-input').focus(); }
    function hideEditor() { document.getElementById('editor-layer').style.display = 'none'; }

    function openSketchConfirm() {
        const txt = document.getElementById('main-editor-input').value.trim();
        if(!txt) return;
        document.getElementById('modal-preview-text').innerText = txt;
        document.getElementById('confirm-modal').style.display = 'flex';
    }

    function closeSketchConfirm() { document.getElementById('confirm-modal').style.display = 'none'; }

    function finalizeSend() {
        const val = document.getElementById('main-editor-input').value;
        const data = JSON.parse(localStorage.getItem("NEXT_STORE") || "[]");
        data.unshift({ text: val });
        localStorage.setItem("NEXT_STORE", JSON.stringify(data));
        document.getElementById('main-editor-input').value = '';
        closeSketchConfirm();
        hideEditor();
        render();
    }

    function render() {
        const data = JSON.parse(localStorage.getItem("NEXT_STORE") || "[]");
        document.getElementById('chatWall').innerHTML = data.reverse().map(d => `<div class="bubble-mine">${d.text}</div>`).join('');
        document.getElementById('chatWall').scrollTop = document.getElementById('chatWall').scrollHeight;
    }
</script>
</body>
</html>