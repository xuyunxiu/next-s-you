<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bubble Login</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: #fcfcfc; /* æ¥µæ·ºç°ç™½åº•è‰² */
            height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            overflow: hidden; 
            position: relative;
        }

        /* --- 1. èƒŒæ™¯æ°›åœå…‰ (éœæ…‹æŸ”å’Œç‰ˆ) --- */
        .ambient-light { position: absolute; width: 100%; height: 100%; z-index: -1; background: #fff; overflow: hidden; pointer-events: none; }
        .light-1 { position: absolute; top: -10%; left: -10%; width: 80vw; height: 80vw; background: radial-gradient(circle, rgba(200, 180, 255, 0.4) 0%, rgba(255,255,255,0) 70%); filter: blur(60px); }
        .light-2 { position: absolute; bottom: -10%; right: -10%; width: 90vw; height: 90vw; background: radial-gradient(circle, rgba(255, 200, 220, 0.3) 0%, rgba(255,255,255,0) 70%); filter: blur(60px); }

        /* --- 2. ç™»å…¥å¡ç‰‡ (ç´”ç™½å¯¦å¿ƒé¢¨æ ¼) --- */
        .login-card {
            width: 85%;
            max-width: 360px;
            background: #ffffff; /* ç´”ç™½å¯¦å¿ƒ */
            border-radius: 35px; /* å¤§åœ“è§’ */
            padding: 40px 30px;
            box-shadow: 0 20px 60px rgba(170, 170, 200, 0.15); /* é«˜ç´šæ„Ÿé™°å½± */
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            z-index: 10;
            transition: transform 0.3s, opacity 0.3s;
        }

        .logo { 
            font-size: 48px; 
            font-weight: 800; 
            background: linear-gradient(135deg, #b088f9 0%, #da97f0 100%); /* æŸ”å’Œç´«ç²‰æ¼¸å±¤ */
            -webkit-background-clip: text; 
            color: transparent; 
            margin-bottom: 20px; 
            letter-spacing: -1.5px;
        }

        .input-group { position: relative; width: 100%; }
        .input-group i { position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: #9ca3af; font-size: 18px; }
        
        /* ç´”æ·¨è¼¸å…¥æ¡†æ¨£å¼ */
        .clean-input {
            width: 100%; 
            padding: 18px 18px 18px 50px; 
            border-radius: 16px; 
            border: none; 
            background: #f9fafb; /* æ·ºç°èƒŒæ™¯ */
            font-size: 15px; 
            color: #333;
            outline: none; 
            transition: all 0.2s;
        }
        .clean-input:focus { background: #f3f4f6; box-shadow: inset 0 0 0 2px #e9d5ff; }

        /* æ¼¸å±¤æŒ‰éˆ• */
        .btn-login { 
            width: 100%; 
            padding: 18px; 
            border-radius: 16px; 
            background: linear-gradient(90deg, #b088f9, #da97f0); 
            color: white; 
            border: none; 
            font-weight: 600; 
            font-size: 16px; 
            cursor: pointer; 
            margin-top: 10px;
            box-shadow: 0 8px 20px rgba(180, 140, 250, 0.3); 
            transition: transform 0.1s;
        }
        .btn-login:active { transform: scale(0.98); }

        /* è¼‰å…¥å‹•ç•« */
        .loader { 
            display: none; 
            border: 3px solid #f3f3f3; 
            border-top: 3px solid #b088f9; 
            border-radius: 50%; 
            width: 24px; height: 24px; 
            animation: spin 1s linear infinite; 
            margin: 10px auto 0;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .forgot-pwd { font-size: 13px; color: #999; margin-top: 5px; cursor: pointer; }

    </style>
</head>
<body>

    <div class="ambient-light">
        <div class="light-1"></div>
        <div class="light-2"></div>
    </div>

    <form class="login-card" id="login-form">
        <div class="logo">bubble</div>
        
        <div class="input-group">
            <i class="ri-mail-line"></i>
            <input id="email" type="email" class="clean-input" placeholder="é›»å­éƒµä»¶" required>
        </div>
        
        <div class="input-group">
            <i class="ri-lock-2-line"></i>
            <input id="pwd" type="password" class="clean-input" placeholder="å¯†ç¢¼" required>
        </div>

        <button type="submit" class="btn-login" id="btn-text">ç™»å…¥</button>
        <div class="loader" id="loader"></div>
        
        <div class="forgot-pwd">å¿˜è¨˜å¯†ç¢¼?</div>
    </form>

    <script>
        // ============================================
        // ğŸ” å¾Œå°ç®¡ç†å€ï¼šåœ¨æ­¤è¨­å®šæ‰€æœ‰å¸³è™Ÿå¯†ç¢¼èˆ‡æ¬Šé™
        // ============================================
        const USER_DB = {
            // 1. å¦³ (è¶…ç´šç®¡ç†å“¡+è—äºº)
            "admin@smtown.com": { pwd: "123", role: "admin", name: "Karina (Admin)", avatar: "https://ui-avatars.com/api/?name=Karina&background=random&color=fff" },
            
            // 2. å¦³çš„æ­æª” (è¶…ç´šç®¡ç†å“¡+è—äºº)
            "partner@smtown.com": { pwd: "123", role: "admin", name: "Winter (Admin)", avatar: "https://ui-avatars.com/api/?name=Winter&background=random&color=fff" },
            
            // 3. æ™®é€šè—äºº (ç„¡ç®¡ç†æ¬Šé™)
            "ningning@smtown.com": { pwd: "123", role: "artist", name: "NingNing", avatar: "https://ui-avatars.com/api/?name=NingNing&background=random&color=fff" },
            
            // 4. ç²‰çµ²å¸³è™Ÿ
            "fan@my.com": { pwd: "123", role: "fan", name: "My Fan", avatar: null }
        };

        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value.trim();
            const pwd = document.getElementById('pwd').value.trim();
            const btn = document.getElementById('btn-text');
            const loader = document.getElementById('loader');
            
            // UI ç‹€æ…‹ï¼šé¡¯ç¤ºè¼‰å…¥ä¸­
            btn.style.display = 'none';
            loader.style.display = 'block';

            setTimeout(() => {
                const user = USER_DB[email];

                if (user && user.pwd === pwd) {
                    // ç™»å…¥æˆåŠŸï¼šå­˜å„²ç”¨æˆ¶è³‡è¨Šåˆ° LocalStorage (è®“ä¸åŒé é¢éƒ½èƒ½è®€å–)
                    // æ³¨æ„ï¼šé€™è£¡æˆ‘æ”¹æˆ localStorageï¼Œå› ç‚ºå¦‚æœè·¨åˆ†é æœ‰æ™‚å€™ sessionStorage æœƒå¤±æ•ˆ
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    
                    // åˆ†æµé‚è¼¯
                    if (user.role === 'fan') {
                        window.location.href = 'fan.html'; // ç²‰çµ² -> fan.html
                    } else {
                        // è—äººèˆ‡ç®¡ç†å“¡ -> artist.html
                        // (åœ¨ artist.html è£¡æœƒå†åˆ¤æ–·æ˜¯å¦é¡¯ç¤º Admin æŒ‰éˆ•)
                        window.location.href = 'artist.html'; 
                    }
                } else {
                    alert('å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤');
                    btn.style.display = 'block';
                    loader.style.display = 'none';
                }
            }, 800); // æ¨¡æ“¬ 0.8ç§’ é€£ç·šæ™‚é–“
        });
    </script>
</body>
</html>