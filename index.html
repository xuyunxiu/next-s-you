<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Weverse Liquid Glass Edition</title>
    <style>
        /* --- å¤¢å¹»æ¶²æ…‹ç»ç’ƒæ¨£å¼ --- */
        :root {
            --sky-blue: #87CEEB;
            --light-purple: #E6E6FA;
            --glass-white: rgba(255, 255, 255, 0.2);
            --glass-border: rgba(255, 255, 255, 0.3);
            --text-main: #2c3e50;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            margin: 0; 
            font-family: -apple-system, sans-serif; 
            background: linear-gradient(135deg, var(--sky-blue), var(--light-purple), #ffffff);
            background-attachment: fixed;
            min-height: 100vh;
            color: var(--text-main);
        }

        .view { display: none; min-height: 100vh; width: 100vw; }
        .active-view { display: block; animation: fadeIn 0.5s ease; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æ¶²æ…‹ç»ç’ƒå¡ç‰‡é€šç”¨æ¨£å¼ */
        .glass-panel {
            background: var(--glass-white);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }

        /* 1. åˆ—è¡¨é èˆ‡é¦–é é ­éƒ¨ */
        .step-header { padding: 40px 20px 10px; display: flex; align-items: center; }
        .back-arrow { font-size: 28px; margin-right: 15px; cursor: pointer; color: var(--text-main); }
        .search-bar { 
            background: rgba(255, 255, 255, 0.4); 
            border-radius: 12px; padding: 12px; flex: 1; 
            color: #555; font-size: 14px; border: 1px solid var(--glass-border);
        }
        
        /* 2. è—äººåˆ—è¡¨é …ç›® (æˆªåœ–äºŒå‡ç´šç‰ˆ) */
        .artist-list { padding: 10px 20px 100px; }
        .artist-item { 
            display: flex; align-items: center; margin-bottom: 15px; 
            padding: 15px; transition: 0.3s;
        }
        .artist-info-img { width: 65px; height: 65px; border-radius: 18px; object-fit: cover; margin-right: 15px; border: 2px solid #fff; }
        .artist-detail h3 { margin: 0; font-size: 16px; color: #333; }
        .artist-detail p { margin: 4px 0 0; font-size: 10px; color: #666; font-weight: 500; }
        
        .btn-join { 
            margin-left: auto; 
            background: linear-gradient(45deg, #00d2ff, #92fe9d); 
            color: #fff; border: none; padding: 8px 20px; border-radius: 20px; 
            font-weight: bold; font-size: 13px; box-shadow: 0 4px 15px rgba(0,210,255,0.3);
        }
        .btn-join.joined { background: rgba(0,0,0,0.1); color: #888; box-shadow: none; }

        /* 3. é¦–é ç¤¾å€åœ“åœˆ (æˆªåœ–ä¸€å‡ç´šç‰ˆ) */
        .home-header { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .logo-font { font-size: 24px; font-weight: 900; background: linear-gradient(to right, #2c3e50, #4b0082); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .community-container { margin: 15px; padding: 20px 10px; }
        .avatar-scroll { display: flex; gap: 18px; overflow-x: auto; padding: 5px; }
        .avatar-scroll::-webkit-scrollbar { display: none; }
        
        .circle-wrap { text-align: center; flex-shrink: 0; width: 68px; position: relative; }
        .circle { 
            width: 64px; height: 64px; border-radius: 22px; 
            background: #fff; overflow: hidden; display: flex; 
            align-items: center; justify-content: center; margin-bottom: 8px; 
            border: 2px solid #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .circle img { width: 100%; height: 100%; object-fit: cover; }
        .circle-name { font-size: 11px; color: #444; font-weight: 600; }
        .notif-dot { position: absolute; top: -3px; right: -3px; background: #ff5e62; width: 10px; height: 10px; border-radius: 50%; border: 2px solid #fff; }

        /* åº•éƒ¨å°èˆªåˆ— */
        .nav-bar { 
            position: fixed; bottom: 15px; left: 5%; width: 90%; height: 70px; 
            background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            display: flex; justify-content: space-around; align-items: center; 
            border-radius: 25px; border: 1px solid var(--glass-border); z-index: 100;
        }
        .nav-item { text-align: center; font-size: 10px; color: #666; font-weight: bold; }
        .nav-icon { font-size: 24px; margin-bottom: 2px; display: block; }
        .nav-item.active { color: #5d9cec; }

        /* æ˜Ÿçƒé é¢ */
        .planet-view { background: #fff; border-radius: 30px 30px 0 0; margin-top: -30px; position: relative; min-height: 80vh; padding: 20px; }
    </style>
</head>
<body>

<div id="app">
    <section id="view-artist-list" class="view">
        <div class="step-header">
            <span class="back-arrow" onclick="startApp()">â€¹</span>
            <div class="search-bar">ğŸ” æœå°‹æ‚¨çš„æœ¬å‘½è—äºº...</div>
        </div>
        <div class="artist-list" id="artistSelectionList"></div>
    </section>

    <section id="view-home" class="view">
        <div class="home-header">
            <div class="logo-font">weverse</div>
            <div style="font-size: 22px;">ğŸ””</div>
        </div>
        
        <div class="community-container glass-panel">
            <div class="avatar-scroll" id="homeCircleBar"></div>
        </div>

        <div style="padding: 10px 20px;">
            <div class="glass-panel" style="overflow: hidden; margin-bottom: 20px; border:none; background: rgba(255,255,255,0.5);">
                <div style="height: 180px; background: url('https://placehold.co/600x300/87CEEB/fff?text=New+Community') center/cover;"></div>
                <div style="padding: 20px;">
                    <h3 style="margin:0; font-size:18px;">âœ¨ æ–°é®®äº‹ï¼šç¤¾ç¾¤åŠŸèƒ½å‡ç´š</h3>
                    <p style="color:#666; font-size:14px; margin-top:8px;">ç¾åœ¨å¯ä»¥äº«å—æ›´æµæš¢çš„æ¶²æ…‹ç»ç’ƒä»‹é¢é«”é©—å›‰ï¼</p>
                </div>
            </div>
        </div>

        <nav class="nav-bar">
            <div class="nav-item active"><span class="nav-icon">ğŸ </span>é¦–é </div>
            <div class="nav-item"><span class="nav-icon">ğŸ›ï¸</span>Shop</div>
            <div class="nav-item"><span class="nav-icon">ğŸ’¬</span>DM</div>
            <div class="nav-item" onclick="clearAll()"><span class="nav-icon">ğŸ‘¤</span>Mine</div>
        </nav>
    </section>

    <section id="view-planet" class="view">
        <div id="planetBanner" style="height: 300px; background-size: cover; background-position: center;">
             <div style="padding: 50px 20px; font-size: 30px; color: #fff;" onclick="startApp()">â€¹</div>
        </div>
        <div class="planet-view">
            <h1 id="planetTitle" style="margin: 0; color: #333;"></h1>
            <div style="display:flex; gap: 20px; margin-top: 20px; font-weight: bold; border-bottom: 1px solid #eee; padding-bottom: 10px;">
                <div style="color: #5d9cec; border-bottom: 3px solid #5d9cec; padding-bottom: 10px;">Feed</div>
                <div style="color: #bbb;">Artist</div>
                <div style="color: #bbb;">Media</div>
            </div>
            <div style="padding: 40px 0; text-align: center; color: #999;">
                <p>âœ¨ æ­¡è¿ä¾†åˆ°å°ˆå±¬æ˜Ÿçƒ âœ¨</p>
            </div>
        </div>
    </section>
</div>

<script>
    const ARTISTS = [
        { id: 1, name: "BTS", members: "RM â€¢ JIN â€¢ SUGA â€¢ J-HOPE â€¢ JIMIN â€¢ V â€¢ JUNGKOOK", img: "https://placehold.co/200/ff0080/fff?text=BTS", card: "https://placehold.co/600x400/ff0080/fff?text=BTS+WORLD" },
        { id: 2, name: "SEVENTEEN", members: "S.COUPS â€¢ JEONGHAN â€¢ JOSHUA â€¢ JUN â€¢ HOSHI â€¢ WONWOO...", img: "https://placehold.co/200/87ceeb/fff?text=SVT", card: "https://placehold.co/600x400/87ceeb/fff?text=SEVENTEEN" },
        { id: 3, name: "ENHYPEN", members: "JUNGWON â€¢ HEESEUNG â€¢ JAY â€¢ JAKE â€¢ SUNGHOON â€¢ SUNOO...", img: "https://placehold.co/200/00008b/fff?text=EN-", card: "https://placehold.co/600x400/00008b/fff?text=ENHYPEN" },
        { id: 4, name: "TXT", members: "SOUBIN â€¢ YEONJUN â€¢ BEOMGYU â€¢ TAEHYUN â€¢ HUENINGKAI", img: "https://placehold.co/200/00ffcc/000?text=TXT", card: "https://placehold.co/600x400/00ffcc/000?text=TXT" },
        { id: 5, name: "BABYMONSTER", members: "RUKA â€¢ PHARITA â€¢ ASA â€¢ AHYEON â€¢ RAMI â€¢ RORA â€¢ CHIQUITA", img: "https://placehold.co/200/000/fff?text=BM", card: "https://placehold.co/600x400/000/fff?text=BAEMON" }
    ];

    let joinedIds = JSON.parse(localStorage.getItem("wv_joined") || "[]");

    function show(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view'));
        document.getElementById(id).classList.add('active-view');
    }

    function renderArtistSelection() {
        const list = document.getElementById('artistSelectionList');
        list.innerHTML = ARTISTS.map(a => `
            <div class="artist-item glass-panel">
                <img src="${a.img}" class="artist-info-img">
                <div class="artist-detail">
                    <h3>${a.name}</h3>
                    <p>${a.members}</p>
                </div>
                <button class="btn-join ${joinedIds.includes(a.id)?'joined':''}" onclick="toggleJoin(${a.id})">
                    ${joinedIds.includes(a.id)?'å·²åŠ å…¥':'åŠ å…¥'}
                </button>
            </div>
        `).join('');
    }

    function toggleJoin(id) {
        const idx = joinedIds.indexOf(id);
        if(idx === -1) joinedIds.push(id);
        else joinedIds.splice(idx, 1);
        localStorage.setItem("wv_joined", JSON.stringify(joinedIds));
        renderArtistSelection();
    }

    function startApp() {
        const bar = document.getElementById('homeCircleBar');
        const joinedArtists = ARTISTS.filter(a => joinedIds.includes(a.id));
        
        let html = `
            <div class="circle-wrap" onclick="show('view-artist-list'); renderArtistSelection();">
                <div class="circle" style="font-size:30px; color:#5d9cec; border:2px dashed #5d9cec;">+</div>
                <div class="circle-name" style="color:#5d9cec">åŠ å…¥</div>
            </div>
        `;
        
        html += joinedArtists.map(a => `
            <div class="circle-wrap" onclick="openPlanet(${a.id})">
                <div class="notif-dot"></div>
                <div class="circle"><img src="${a.img}"></div>
                <div class="circle-name">${a.name}</div>
            </div>
        `).join('');
        
        bar.innerHTML = html;
        show('view-home');
    }

    function openPlanet(id) {
        const a = ARTISTS.find(x => x.id === id);
        document.getElementById('planetTitle').innerText = a.name;
        document.getElementById('planetBanner').style.backgroundImage = `linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.3)), url('${a.card}')`;
        show('view-planet');
    }

    function clearAll() { if(confirm("ç¢ºå®šé‡ç½®å—ï¼Ÿ")) { localStorage.clear(); location.reload(); } }

    window.onload = startApp;
</script>
</body>
</html>