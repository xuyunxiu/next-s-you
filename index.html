<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Weverse Liquid Glass 2.0</title>
    <style>
        /* --- æŸ”å’Œæ¼¸å±¤èˆ‡ç»ç’ƒè³ªæ„Ÿ --- */
        :root {
            --sky-blue: #D0EFFF;    /* æ›´æŸ”å’Œçš„å¤©ç©ºè— */
            --lavender: #E6D5FF;    /* å¤¢å¹»è–°è¡£è‰ç´« */
            --glass: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.4);
            --text-dark: #4A4A4A;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            margin: 0; 
            font-family: -apple-system, sans-serif; 
            /* ä¿®æ­£åè—å•é¡Œï¼šä½¿ç”¨ä¸‰è‰²æŸ”å’Œæ¼¸å±¤ï¼Œç™½è‰²ç½®ä¸­ */
            background: linear-gradient(160deg, var(--sky-blue) 0%, #FFFFFF 50%, var(--lavender) 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: var(--text-dark);
        }

        .view { display: none; min-height: 100vh; width: 100vw; animation: slideUp 0.4s ease-out; }
        .active-view { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.03);
        }

        /* 1. æ–°äººé¸æ“‡å¡ç‰‡ç‰† (é€™æ¬¡ä¿è­‰æœƒå‡ºç¾) */
        .step-header { padding: 50px 25px 20px; text-align: left; }
        .step-header h1 { font-size: 26px; font-weight: 800; margin: 0; background: linear-gradient(45deg, #5D9CEC, #A29BFE); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .artist-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 20px 120px; 
        }
        .artist-card {
            aspect-ratio: 1 / 1.3; border-radius: 22px; background-size: cover; background-position: center;
            position: relative; border: 3px solid transparent; transition: 0.3s;
        }
        .artist-card.selected { border-color: #fff; transform: scale(0.96); box-shadow: 0 0 15px rgba(255,255,255,0.5); }
        .artist-card::after { content: ''; position: absolute; bottom: 0; width: 100%; height: 50%; background: linear-gradient(transparent, rgba(0,0,0,0.5)); border-radius: 0 0 22px 22px; }
        .card-name { position: absolute; bottom: 15px; left: 15px; color: #fff; font-weight: bold; z-index: 2; }
        .check-icon { position: absolute; top: 12px; right: 12px; background: #fff; color: #5D9CEC; width: 22px; height: 22px; border-radius: 50%; display: none; text-align: center; line-height: 22px; font-weight: 900; font-size: 12px; }
        .selected .check-icon { display: block; }

        /* 2. é¦–é  UI */
        .home-header { padding: 20px 25px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: 900; letter-spacing: -1px; color: #5D9CEC; }
        
        .community-box { margin: 15px 20px; padding: 20px 15px; }
        .scroll-area { display: flex; gap: 15px; overflow-x: auto; }
        .scroll-area::-webkit-scrollbar { display: none; }
        
        .artist-circle-wrap { text-align: center; flex-shrink: 0; width: 70px; }
        .circle-img { width: 64px; height: 64px; border-radius: 22px; background: #fff; border: 2px solid #fff; object-fit: cover; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .circle-label { font-size: 11px; margin-top: 6px; font-weight: 600; color: #666; }

        /* åº•éƒ¨å°èˆª (æ›´é€çš„ç»ç’ƒ) */
        .tab-nav { 
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; height: 70px; background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-radius: 30px; border: 1px solid rgba(255,255,255,0.5);
            display: flex; justify-content: space-around; align-items: center; z-index: 100;
        }
        .tab-item { text-align: center; color: #A0A0A0; font-size: 10px; font-weight: bold; }
        .tab-item.active { color: #5D9CEC; }
        .tab-icon { font-size: 22px; display: block; margin-bottom: 2px; }

        /* ä¸‹ä¸€æ­¥æŒ‰éˆ• */
        .floating-btn {
            position: fixed; bottom: 30px; width: 85%; left: 7.5%; padding: 18px;
            border-radius: 35px; border: none; font-weight: bold; font-size: 16px;
            background: linear-gradient(45deg, #5D9CEC, #A29BFE); color: #fff;
            box-shadow: 0 10px 20px rgba(93, 156, 236, 0.3); transition: 0.3s;
        }
    </style>
</head>
<body>

<div id="app">
    <section id="view-onboarding" class="view">
        <div class="step-header">
            <h1>é¸æ“‡æ„Ÿèˆˆè¶£çš„è—äºº</h1>
            <p style="color:#888; font-size:14px; margin-top:5px;">é–‹å•Ÿæ‚¨çš„ Weverse æ—…ç¨‹</p>
        </div>
        <div class="artist-grid" id="onboardingGrid"></div>
        <button class="floating-btn" onclick="finishOnboarding()">é¸å¥½äº†ï¼Œé€²å…¥é¦–é </button>
    </section>

    <section id="view-home" class="view">
        <div class="home-header">
            <div class="logo">weverse</div>
            <div style="font-size:22px;">ğŸ””</div>
        </div>
        
        <div class="community-box glass-card">
            <div class="scroll-area" id="homeCircleBar"></div>
        </div>

        <div style="padding: 10px 20px;">
            <div class="glass-card" style="padding: 20px; background: rgba(255,255,255,0.4); border:none;">
                <h3 style="margin:0; font-size:16px;">âœ¨ æ¶²æ…‹ç»ç’ƒ 2.0 å·²ä¸Šç·š</h3>
                <p style="color:#777; font-size:13px; margin-top:8px;">æˆ‘å€‘å„ªåŒ–äº†è‰²å½©æ¯”ä¾‹ï¼Œè®“æ¼¸å±¤æ›´åŠ æŸ”å’Œï¼Œè¦–è¦ºä¸å†éæ–¼åè—ã€‚</p>
            </div>
            <div style="text-align:center; margin-top:40px;">
                <button onclick="clearAll()" style="background:rgba(255,255,255,0.5); border:1px solid #ddd; padding:10px 20px; border-radius:15px; color:#999; font-size:12px;">é‡ç½® App (å›æ­¸æ–°äºº)</button>
            </div>
        </div>

        <nav class="tab-nav">
            <div class="tab-item active"><span class="tab-icon">ğŸ </span>é¦–é </div>
            <div class="tab-item"><span class="tab-icon">ğŸ›ï¸</span>Shop</div>
            <div class="tab-item"><span class="tab-icon">ğŸ’¬</span>DM</div>
            <div class="tab-item"><span class="tab-icon">ğŸ‘¤</span>æˆ‘çš„</div>
        </nav>
    </section>
</div>

<script>
    const ARTISTS = [
        { id: 1, name: "BTS", img: "https://placehold.co/200/ff0080/fff?text=BTS", card: "https://placehold.co/400x600/ff0080/fff?text=BTS" },
        { id: 2, name: "SEVENTEEN", img: "https://placehold.co/200/87ceeb/fff?text=SVT", card: "https://placehold.co/400x600/87ceeb/fff?text=SVT" },
        { id: 3, name: "ENHYPEN", img: "https://placehold.co/200/00008b/fff?text=EN-", card: "https://placehold.co/400x600/00008b/fff?text=ENHYPEN" },
        { id: 4, name: "TXT", img: "https://placehold.co/200/00ffcc/000?text=TXT", card: "https://placehold.co/400x600/00ffcc/000?text=TXT" }
    ];

    let joinedIds = JSON.parse(localStorage.getItem("wv_joined") || "[]");

    function show(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active-view'));
        document.getElementById(id).classList.add('active-view');
    }

    // æ¸²æŸ“æ–°äººç‰†
    function renderOnboarding() {
        const grid = document.getElementById('onboardingGrid');
        grid.innerHTML = ARTISTS.map(a => `
            <div class="artist-card ${joinedIds.includes(a.id)?'selected':''}" onclick="toggleSelect(${a.id})" style="background-image: url('${a.card}')">
                <div class="check-icon">âœ“</div>
                <div class="card-name">${a.name}</div>
            </div>
        `).join('');
    }

    function toggleSelect(id) {
        const idx = joinedIds.indexOf(id);
        if(idx === -1) joinedIds.push(id);
        else joinedIds.splice(idx, 1);
        renderOnboarding();
    }

    function finishOnboarding() {
        if(joinedIds.length === 0) return alert("è«‹è‡³å°‘é¸æ“‡ä¸€å€‹åœ˜é«”å–”ï¼");
        localStorage.setItem("wv_joined", JSON.stringify(joinedIds));
        init();
    }

    // åˆå§‹åŒ– App
    function init() {
        const bar = document.getElementById('homeCircleBar');
        if(joinedIds.length === 0) {
            // æ–°äººï¼šå¼·åˆ¶è·³è½‰åˆ°é¸æ“‡ç‰†
            show('view-onboarding');
            renderOnboarding();
        } else {
            // è€å±è‚¡ï¼šé¡¯ç¤ºé¦–é 
            const joinedArtists = ARTISTS.filter(a => joinedIds.includes(a.id));
            bar.innerHTML = `
                <div class="artist-circle-wrap" onclick="joinedIds=[]; renderOnboarding(); show('view-onboarding');">
                    <div class="circle-img" style="display:flex; align-items:center; justify-content:center; font-size:30px; color:#5D9CEC;">+</div>
                    <div class="circle-label">æ–°å¢</div>
                </div>
            ` + joinedArtists.map(a => `
                <div class="artist-circle-wrap">
                    <img src="${a.img}" class="circle-img">
                    <div class="circle-label">${a.name}</div>
                </div>
            `).join('');
            show('view-home');
        }
    }

    function clearAll() {
        localStorage.clear();
        joinedIds = [];
        init(); // é€™æœƒè§¸ç™¼é‡ç½®ä¸¦è·³å›æ–°äººç‰†
    }

    window.onload = init;
</script>
</body>
</html>
